#include <iostream>
using namespace std;

int count = 0;

void heapify(int arr[], int n, int i) {
    ::count++; 
    int largest = i; 
    int l = 2 * i + 1; 
    int r = 2 * i + 2; 

    if (l < n && arr[l] > arr[largest])
        largest = l;

    if (r < n && arr[r] > arr[largest])
        largest = r;

    if (largest != i) {
        swap(arr[i], arr[largest]);
        heapify(arr, n, largest);
    }
}

void heapSort(int arr[], int n) {
    for (int i = n / 2 - 1; i >= 0; i--) {
        heapify(arr, n, i);

    }

    for (int i = n - 1; i >= 0; i--) {
        swap(arr[0], arr[i]);
        heapify(arr, i, 0);
    }
}

void printarr(int arr[], int n) {
    cout << "Sorted array: ";
    for (int i = 0; i < n; i++)
        cout << arr[i] << " ";
    cout << endl;
}

int main() {
    int arr[] = {124, 651, 780, 703, 933, 952, 593, 250, 11, 699, 916, 751, 437, 385, 159, 903, 537, 661, 597, 471, 716, 331, 428, 70, 619, 710, 630, 82, 873, 143, 545, 201, 641, 694, 912, 173, 412, 844, 708, 130, 601, 379, 794, 703, 913, 101, 561, 147, 162, 590, 649, 823, 340, 677, 94, 141, 113, 630, 802, 338, 204, 327, 812, 200, 817, 510, 851, 695, 124, 716, 661, 848, 379, 892, 336, 354, 171, 464, 158, 205, 734, 600, 972, 19, 87, 701, 396, 251, 402, 592, 959, 190, 271, 546, 336, 767, 342, 83, 583, 257, 626, 725, 929, 201, 17, 21, 425, 390, 545, 643, 864, 141, 106, 1, 360, 295, 850, 113, 641, 127, 642, 236, 789, 915, 613, 893, 570, 156, 763, 436, 396, 666, 233, 452, 451, 191, 469, 884, 406, 363, 980, 738, 672, 908, 949, 198, 22, 507, 159, 975, 40, 485, 656, 886, 707, 270, 88, 322, 536, 939, 21, 663, 602, 424, 742, 102, 603, 551, 841, 582, 530, 543, 2, 590, 557, 773, 917, 617, 873, 969, 694, 453, 914, 236, 754, 412, 916, 672, 908, 602, 428, 40, 369, 895, 524, 95, 470, 488, 858, 505, 960, 121, 78, 399, 141, 429, 917, 567, 827, 433, 611, 741, 230, 85, 100, 66, 925, 842, 499, 891, 265, 153, 853, 868, 479, 561, 30, 509, 162, 347, 989, 543, 146, 213, 806, 367, 742, 342, 977, 920, 748, 583, 990, 820, 802, 449, 802, 51, 193, 705, 412, 893, 342, 214, 455, 745, 549, 69, 435, 901, 956, 284, 881, 868, 832, 294, 821, 780, 232, 937, 297, 503, 171, 521, 325, 125, 509, 552, 791, 747, 448, 468, 499, 509, 757, 881, 885, 724, 821, 490, 143, 55, 374, 965, 468, 828, 477, 682, 284, 347, 722, 967, 86, 485, 599, 365, 225, 193, 609, 908, 910, 259, 185, 153, 511, 884, 505, 220, 345, 230, 266, 388, 841, 346, 901, 68, 971, 942, 367, 621, 870, 509, 316, 612, 379, 166, 490, 445, 39, 680, 447, 890, 485, 118, 586, 228, 138, 469, 122, 606, 217, 777, 645, 238, 468, 756, 699, 56, 809, 249, 807, 1, 529, 395, 678, 249, 933, 931, 587, 945, 978, 653, 409, 571, 282, 362, 493, 505, 606, 104, 395, 282, 456, 670, 433, 821, 35, 534, 324, 90, 936, 865, 444, 394, 883, 312, 660, 518, 769, 402, 24, 635, 125, 542, 318, 790, 381, 182, 671, 758, 91, 326, 534, 598, 290, 674, 569, 128, 793, 289, 899, 193, 406, 38, 570, 591, 431, 660, 11, 353, 968, 865, 130, 904, 593, 915, 679, 607, 155, 922, 948, 335, 931, 12, 938, 253, 134, 933, 603, 897, 333, 100, 778, 850, 246, 272, 642, 297, 476, 849, 729, 28, 486, 290, 986, 393, 401, 618, 278, 725, 524, 528, 562, 603, 689, 928, 350, 187, 50, 293, 556, 49, 26, 918, 886, 325, 941, 819, 489, 471, 93, 407, 95, 333, 506, 496, 370, 203, 422, 89};
    int n = sizeof(arr) / sizeof(arr[0]);

    heapSort(arr, n);

    cout << "Number of comparisons: " << ::count << endl;
    printarr(arr, n);
    return 0;
}
